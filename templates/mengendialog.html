{% extends "base.html" %} {% block title %} {{ _('Mengendialog') }} {% endblock %} {% block navbar %} {% with messages = get_flashed_messages() %} {% if messages %} {% for msg in messages %}
<!-- Flash messages -->
<div class="d-flex flex-row alert alert-warning fade show justify-content-between topNotification" role="alert">
  <img src="/static/images/Icons_Info.svg" width="50" height="50" viewBox="0 0 100 100" role="img" aria-label="Warning:">
  <p>{{msg}}</p>
  <img src="/static/images/Icons_SchließenBlue.svg" width="50" height="50" viewBox="0 0 100 100" role="img" class="close" data-dismiss="alert" aria-label="Close">
</div> {% endfor %} {% endif %} {% endwith %} {% endblock %} {% block content%} <div class="statustable">
  <h3>Mengendialog</h3>
  <div class="fertigungauftragcontainer">
    <form action='#' method="POST">
      <div class="d-flex flex-row fertigungauftragrow">
        <div class="d-flex flex-column">
          <div class="d-flex flex-row fertigungauftragrow">
            <div class="d-flex flex-column">
              <label for="gesamt" class="label">{{ _('Gesamt') }}</label>
              <label for="mengegut" class="label">{{ _('Menge Gut') }}</label>
              <label for="mengeaus" class="label">{{ _('Menge Aus') }}</label>
            </div>
            <div class="d-flex flex-column">
              <input type="text" name="menge_soll" id="gesamt" value="{{menge_soll}}" class="form-control fertigungauftrag" readonly>
              <input type="text" name="menge_gut" id="mengegut" value="0.0" class="form-control fertigungauftrag">
              <input type="text" name="menge_aus" id="mengeaus" value="0.0" class="form-control fertigungauftrag">
            </div>
            <div class="d-flex flex-column">
              <label for="grundrustzeit" class="label">{{ _('Grundrüstzeit') }}</label>
              <label for="charge" class="label">{{ _('Charge') }}</label>
              <label for="lagerplatz" class="label">{{ _('Lagerplatz') }}</label>
            </div>
            <div class="d-flex flex-column">
              <input type="text" name="ruestzeit" id="grundrustzeit" value="0.0" class="form-control fertigungauftrag">
              <input type="text" name="charge" id="charge" class="form-control fertigungauftrag">
              <input type="text" name="lagerplatz" id="lagerplatz" class="form-control fertigungauftrag">
            </div>
          </div>
        </div>
        <div class="d-flex flex-column">
          <div class="card">
            <!-- Keypad -->
            <div class="col-md-8" id="keypad">
              <div class="row">
                <button type="button" value="clear" class="btn btn-secondary">⌫</button>
                <button type="button" value="/" class="btn btn-secondary">/</button>
                <button type="button" value="*" class="btn btn-secondary">*</button>
              </div>
              <div class="row">
                <button type="button" value="7" class="btn btn-secondary">7</button>
                <button type="button" value="8" class="btn btn-secondary">8</button>
                <button type="button" value="9" class="btn btn-secondary">9</button>
              </div>
              <div class="row">
                <button type="button" value="4" class="btn btn-secondary">4</button>
                <button type="button" value="5" class="btn btn-secondary">5</button>
                <button type="button" value="6" class="btn btn-secondary">6</button>
              </div>
              <div class="row">
                <button type="button" value="1" class="btn btn-secondary">1</button>
                <button type="button" value="2" class="btn btn-secondary">2</button>
                <button type="button" value="3" class="btn btn-secondary">3</button>
              </div>
              <div class="row">
                <button type="button" value="0" class="btnZ">0</button>
                <button type="button" value="." class="btn btn-secondary">.</button>
              </div>
            </div>
            <div class="col-md-4">
              <button type="button" value="-" class="btn btn-secondary">-</button>
              <button type="button" value="+" class="btn btn-light">+</button>
              <button type="button" value="submit" class="btn btn-light">↵</button>
            </div>
          </div>
        </div>
      </div>
      <div class="d-flex flex-row fertigungauftragrow">
        <div class="d-flex justify-content-between bestätigen3">
          <!-- <button type="button" onclick="window.location.href='{{"/"}}'" class="btn btn-primary btn-lg abrechh">{{ _('Abbrechen') }}</button> -->
          <button type="submit" name="submit" value="submit_teil" class="btn btn-primary btn-lg submit2">{{ _('Teilrückmeldung') }}</button>
          <button type="submit" name="submit" value="submit_end" class="btn btn-primary btn-lg submit2">{{ _('Endrückmeldung') }}</button>
        </div>
      </div>
    </form>
  </div>
</div>
<script>
  window.onload = function() {
    var inputFields = document.querySelectorAll('input'); // select all input fields
    for (var i = 0; i < inputFields.length; i++) {
      inputFields[i].addEventListener('focus', function() {
        var currentInput = this; // get the reference to the currently focused input field
        var keypad = document.getElementById('keypad'),
          buttons = keypad.getElementsByTagName('button');
        submit_btn = document.getElementById('enter_btn')
        for (var j = 0; j < buttons.length; j++) {
          buttons[j].onclick = function() {
            currentInput.value = currentInput.value + this.innerHTML;
            return false;
          };
        }
        const button = document.querySelector('#clear');
        button.addEventListener('click', () => {
          currentInput.value = currentInput.value.slice(0, -2);
        })
        currentInput.addEventListener('keypress', function(event) {
          if (event.keyCode === 13 || event.which === 13) {
            event.preventDefault();
            submit_btn.click();
          }
        });
      });
    }
  }
</script> {% endblock %}