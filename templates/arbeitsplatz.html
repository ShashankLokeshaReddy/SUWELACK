{% extends "base.html" %}
{% block title %} {{_('Arbeitplatz')}} {% endblock %}
{% block content%}

<div class="d-flex flex-row">

    <h2>{{ _('Arbeitplatz') }}</h2>

    <button  type="button" class="btn btn-light topButton" data-toggle="button" aria-pressed="false">{{ _('Alle')}}</button>
    <button  type="button" autofocus class="btn btn-light topButton" data-toggle="button" aria-pressed="false">{{_("Ausgewählte")}} </button>
  </div> 

<form action='/' methods="POST">

<div class="grp d-flex align-content-center flex-wrap justify-content-center">
    <!-- Dynamic population of Buttons -->
    {% for items in range(0,buttonText[0]|length) %}
    <button type="button" name="arbeitplatzbuttons" value='{{buttonText[1][items]}}' href="{{ gettext(buttonText[0][items])}}" class="btn btn-primary btn-ap">{{buttonText[0][items]}}</button>
    {% endfor %}
</div>

<div class="d-flex justify-content-between bestätigen">
    <!-- Abbrechen and Bestatigen Buttons -->
    <button type="button" onclick="window.location.href='{{"/"}}'" class="btn btn-primary btn-lg abrechh">{{  _('Abbrechen')}}</button>
    <button type="submit" value="submit" id="submit" class="btn btn-primary btn-lg submit2">{{_('Bestätigen')}}</button>
</div>

<script>
    //<!-- JS for the notification animation -->
    window.setTimeout(function() {
        $(".alert").slideUp("normal", function() { $(this).remove(); } );
    }, 5000);

    <!-- JS to send the name of the selected button to the next screen -->
    $('.btn-ap').click(function () {    
    $(this).addClass("selected");  
    console.log('button is selected')
    });

    $(document).ready(function(){
        $('#submit').click(function(){

            var value = $('.btn-ap').filter('.selected').val();
            var name = $('.btn-ap').filter('.selected').text();
            console.log(value);
            console.log(name);
            $.post(
              "/arbeitsplatz/{{user}}",
              {
                  selectedbuttonAP: value,
                  selectedbuttonname: name
              })
        });
  });
</script>
</form>

{% endblock %}